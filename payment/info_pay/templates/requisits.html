
{% extends "base.html" %}

{% block title %}
    Реквизиты
{% endblock %}

{% block body %}
	<h1>Реквизиты</h1>

    <form action="" method="post">
        <div class="form-group my-3">
            {% csrf_token %}
            <p><b> Сортировать по:</b> </p>

            <select name="" id="">
                <option>Типу платежа</option>
                <option>Типу карты</option>
                <option>Типу счета</option>
                <option>Фамилии</option>
                <option>Лимиту</option>
            </select>

            <input type="submit" class="botton" value="Поиск">
        </div>
    </form>

        <table id="table" class="table table-striped table-bordered table-sm">
            <tr>
                <th id="type_pay">Тип платежа</th>
                <th>Тип карты</th>
                <th>Тип счета</th>
                <th>Фамилия</th>
                <th>Имя</th>
                <th>Отчество</th>
                <th>Номер телефона</th>
                <th>Лимит</th>
            </tr>
            {% for req in object_list %}
                <tr>
                    <td>{{ req.type_payment }}</td>
                    {% if req.card_type is None %}
                        <td>---</td>
                    {% else %}
                        <td>{{ req.card_type }}</td>
                    {% endif %}
                    {% if req.account_type is None %}
                        <td>---</td>
                    {% else %}
                        <td>{{ req.account_type }}</td>
                    {% endif %}
                    <td>{{ req.last_name }}</td>
                    <td>{{ req.first_name}}</td>
                    <td>{{ req.middle_name}}</td>
                    <td>{{ req.phone }}</td>
                    <td>{{ req.limit }}</td>
                </tr>
            {%endfor%}
        </table>

        <div class="container">
        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
                {% if page_obj.has_previous %}
                    <li class="page-item"><a class="page-link" href="?page=1">1</a></li>
                    <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">&laquo;</a></li>
                {% endif %}

                <li class="page-item active">
                    <span class="page-link">
                        {{ page_obj.number }}
                    </span>
                </li>

                {% if page_obj.has_next %}
                    <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">&raquo;</a></li>
                    <li class="page-item"><a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">{{ page_obj.paginator.num_pages }}</a></li>
                {% endif %}
            </ul>
        </nav>
    </div>

{% endblock %}